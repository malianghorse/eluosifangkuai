var CZombies=function(b,a){return(a=function(){}).prototype={name:"Zombies",HP:270,Lvl:1,NormalGif:0,AttackGif:1,LostHeadGif:2,LostHeadAttackGif:3,HeadGif:4,DieGif:5,BoomDieGif:6,width:166,height:144,beAttackedPointL:82,beAttackedPointR:156,BreakPoint:90,Ornaments:0,OrnHP:0,OSpeed:1.6,Speed:1.6,AKind:0,beAttacked:1,isAttacking:0,Attack:100,WalkDirection:0,Altitude:1,canSlow:1,canFreeze:1,canSputtering:1,canRaven:1,canSetbody:1,FreeSetbodyTime:"",FreeFreezeTime:"",FreeSlowTime:"",CanPass:function(e,c){return c&&c!=2},GetDY:0,getRaven:function(c){this.Die(2);return 1},getShadow:function(c){return"left:"+(c.beAttackedPointL-10)+"px;top:"+(c.height-22)+"px"},ArR:[],Init:function(g,j,f,e){var c=0,h=this;j.AttackedRX=(j.X=(j.ZX=j.AttackedLX=g)-j.beAttackedPointL)+j.beAttackedPointR;while(--e){j.CanPass(e,f[e])&&(j.ArR[c++]=e)}j.ArHTML=['<div id="','" style="position:absolute;left:',"px;top:","px;z-index:",'"><img src="'+ShadowPNG+'" style="'+j.getShadow(j)+'"><img src="'+j.PicArr[j.NormalGif]+'"></div>']},getHTML:function(h,e,c,g){var f=this.ArHTML;return f[0]+h+f[1]+e+f[2]+c+f[3]+g+f[4]},prepareBirth:function(c){var g=this,m=g.ArR,k=new Date,j=m[Math.floor(Math.random()*m.length)],f=GetY(j)+g.GetDY,h=f-g.height,l=3*j+1,e=g.id="Z_"+Math.random();g.R=j;g.pixelTop=h;g.zIndex=l;c&&(k.setMilliseconds(k.getMilliseconds()+c),g.FreeSetbodyTime=k);return g.getHTML(e,g.X,h,l)},Birth:function(){oZ.add($Z[this.id]=this)},Die:function(e){var f=this,g=f.id,c=$(g);!e?(c.childNodes[1].src=f.PicArr[f.DieGif]+Math.random(),oSym.addTask(250,ClearChild,[c])):e<2?(c.childNodes[1].src=f.PicArr[f.BoomDieGif]+Math.random(),oSym.addTask(300,ClearChild,[c])):ClearChild(c);f.HP=0;delete $Z[g];oP.MonPrgs()},GoingDieHead:function(g,c,f){var e=NewImg(0,c[f.HeadGif]+Math.random(),"left:"+f.AttackedLX+"px;top:"+(f.pixelTop-20)+"px;z-index:"+f.zIndex,1);oSym.addTask(200,ClearChild,[e])},GoingDie:function(){var e=this,f=e.id,c=e.PicArr;$(f).childNodes[1].src=(!e.isAttacking?c[e.LostHeadGif]:c[e.LostHeadAttackGif]);e.GoingDieHead(f,c,e);e.beAttacked=0;e.FreeFreezeTime=e.FreeSetbodyTime=e.FreeSlowTime="";e.AutoReduceHP(f)},AutoReduceHP:function(c){oSym.addTask(100,function(f){var e=$Z[f];e&&((e.HP-=60)<1?e.Die():e.AutoReduceHP(f))},[c])},JudgeAttack:function(){var h=this,e=h.ZX,f=h.R+"_",g=GetC(e),j=oGd.$,c;(c=h.JudgeLR(h,f,g,e,j)||h.JudgeSR(h,f,g,e,j))?c[0](c[1],c[2]):h.isAttacking&&(h.isAttacking=0,$(h.id).childNodes[1].src=h.PicArr[h.NormalGif])},JudgeLR:function(g,e,f,c,h){return f>10||f<1?false:function(){e+=--f+"_";var k=3,l;while(k--){if((l=h[e+k])&&l.canEat&&l.AttackedRX>=c&&l.AttackedLX<=c){return[g.NormalAttack,g.id,l.id]}}}()},JudgeSR:function(g,e,f,c,h){return f>9||f<1?false:function(){e+=f+"_";var k=3,l;while(k--){if((l=h[e+k])&&l.canEat&&l.AttackedRX>=c&&l.AttackedLX<=c){return[g.NormalAttack,g.id,l.id]}}}()},NormalAttack:function(e,c){var f=$Z[e];f&&!f.isAttacking&&(f.isAttacking=1,$(e).childNodes[1].src=f.PicArr[f.AttackGif]);oSym.addTask(100,function(h,g){var k=$Z[h],j;k&&k.beAttacked&&!k.FreeFreezeTime&&!k.FreeSetbodyTime&&((j=$P[g])&&j.getHurt(k,k.AKind,!k.FreeSlowTime?k.Attack:Math.round(k.Attack*0.5)),k.JudgeAttack())},[e,c])}},a}(),OrnNoneZombies=InheritO(CZombies,{getHurt:function(k,a,h,n,c,m,l){var e=this,j,f,g,b=e.id,j=new Date;switch(true){case !e.beAttacked:l&&e.Die(2);break;case (e.HP-=h)>e.BreakPoint:switch(n){case 0:break;case -1:e.canSlow&&(!e.FreeSlowTime&&(e.Speed*=0.5),e.FreeSlowTime=j.setSeconds(j.getSeconds()+10));break;default:e.FreeSlowTime&&(e.FreeSlowTime="",e.Speed=e.OSpeed);if(e.canSputtering){f=!a?oZ.getArZ(e.AttackedLX,e.AttackedLX+40,e.R):oZ.getArZ(e.AttackedRX-40,e.AttackedRX,e.R);for(g=f.length;g--;f[g].canSputtering&&f[g].getHurt(1,0,13,0,0,0,0)){}}}SetAlpha($(b).childNodes[1],50,0.5);oSym.addTask(10,function(o){$Z[o]&&SetAlpha($(o).childNodes[1],100,1)},[b]);break;case e.HP>0:e.GoingDie();break;default:e.Die(l)}}}),oZombie=InheritO(OrnNoneZombies,{EName:"oZombie",CName:"领带僵尸",PicArr:["images/Zombies/Zombie/Zombie.gif","images/Zombies/Zombie/ZombieAttack.gif","images/Zombies/Zombie/ZombieLostHead.gif","images/Zombies/Zombie/ZombieLostHeadAttack.gif","images/Zombies/Zombie/ZombieHead.gif#","images/Zombies/Zombie/ZombieDie.gif#","images/Zombies/BoomDie1.gif#"],Produce:'普通僵尸<p>韧性：<font color="#FF0000">低</font></p>这种僵尸喜爱脑髓，贪婪而不知足。脑髓，脑髓，脑髓，夜以继日地追求着。老而臭的脑髓？腐烂的脑髓？都没关系。僵尸需要它们。'}),oFlagZombie=InheritO(oZombie,{EName:"oFlagZombie",CName:"旗帜僵尸",OSpeed:2.2,Speed:2.2,beAttackedPointR:101,Produce:'旗帜僵尸标志着即将来袭的一大堆僵尸"流"。<p>韧性：<font color="#FF0000">低</font></p>毫无疑问，摇旗僵尸喜爱脑髓。但在私下里他也迷恋旗帜。也许是因为旗帜上也画有脑子吧，这很难说。'},{PicArr:{0:"images/Zombies/FlagZombie/FlagZombie.gif",1:"images/Zombies/FlagZombie/FlagZombieAttack.gif",2:"images/Zombies/FlagZombie/FlagZombieLostHead.gif",3:"images/Zombies/FlagZombie/FlagZombieLostHeadAttack.gif"}}),OrnIZombies=InheritO(CZombies,{Ornaments:1,OrnLostNormalGif:7,OrnLostAttackGif:8,getHurt:function(j,a,f,m,c,l,k){var e=this,b=e.id;if(!e.beAttacked){k&&e.Die(2);return}switch(true){case !e.OrnHP:e.HP-=f;break;case (e.OrnHP-=f)>0:break;case e.OrnHP<0:e.HP+=e.OrnHP;e.OrnHP=0;default:var h=e.NormalGif=e.OrnLostNormalGif,g=e.AttackGif=e.OrnLostAttackGif;$(b).childNodes[1].src=(!e.isAttacking?e.PicArr[h]:e.PicArr[g])}switch(true){case e.HP>e.BreakPoint:switch(m){case 0:break;case -1:e.canSlow&&(d=new Date,!e.FreeSlowTime&&(e.Speed*=0.5),e.FreeSlowTime=d.setSeconds(d.getSeconds()+10));break;default:e.FreeSlowTime&&(e.FreeSlowTime="",e.Speed=e.OSpeed);if(e.canSputtering){ar=!a?oZ.getArZ(e.AttackedLX,e.AttackedLX+40,e.R):oZ.getArZ(e.AttackedRX-40,e.AttackedRX,e.R);for(i=ar.length;i--;ar[i].canSputtering&&ar[i].getHurt(1,0,13,0,0,0,0)){}}}SetAlpha($(b).childNodes[1],50,0.5);oSym.addTask(10,function(n){$Z[n]&&SetAlpha($(n).childNodes[1],100,1)},[b]);break;case e.HP>0:e.GoingDie();break;default:e.Die(k)}}}),oConeheadZombie=InheritO(OrnIZombies,{EName:"oConeheadZombie",CName:"路障僵尸",OrnHP:370,Lvl:2,PicArr:["images/Zombies/ConeheadZombie/ConeheadZombie.gif","images/Zombies/ConeheadZombie/ConeheadZombieAttack.gif","images/Zombies/Zombie/ZombieLostHead.gif","images/Zombies/Zombie/ZombieLostHeadAttack.gif","images/Zombies/Zombie/ZombieHead.gif#","images/Zombies/Zombie/ZombieDie.gif#","images/Zombies/BoomDie1.gif#","images/Zombies/Zombie/Zombie.gif","images/Zombies/Zombie/ZombieAttack.gif"],Produce:'他的路障头盔，使他两倍坚韧于普通僵尸。<p>韧性：<font color="#FF0000">中</font></p>和其他僵尸一样，路障头僵尸盲目地向前。但某些事物却使他停下脚步，捡起一个交通路障，并固实在自己的脑袋上。是的，他很喜欢参加聚会。'}),oBucketheadZombie=InheritO(oConeheadZombie,{EName:"oBucketheadZombie",CName:"铁桶僵尸",OrnHP:1100,Lvl:3,Produce:'他的铁桶头盔，能极大程度的承受伤害。<p>韧性：<font color="#FF0000">高</font><br>弱点：<font color="#FF0000">磁力菇</font></p>铁桶头僵尸经常戴着水桶，在冷漠的世界里显得独一无二。但事实上，他只是忘记了，那铁桶还在他头上而已。'},{PicArr:{0:"images/Zombies/BucketheadZombie/BucketheadZombie.gif",1:"images/Zombies/BucketheadZombie/BucketheadZombieAttack.gif",7:"images/Zombies/Zombie/Zombie2.gif"}}),oFootballZombie=InheritO(oConeheadZombie,{EName:"oFootballZombie",CName:"橄榄球僵尸",OrnHP:1400,Lvl:3,width:154,height:160,OSpeed:3.2,Speed:3.2,beAttackedPointL:20,beAttackedPointR:134,Produce:'橄榄球僵尸的表演秀。<p>韧性：<font color="#FF0000">极高</font><br>速度：<font color="#FF0000">快</font><br>弱点：<font color="#FF0000">磁力菇</font></p>在球场上，橄榄球僵尸表现出110%的激情，他进攻防守样样在行。虽然他完全不知道橄榄球是什么。'},{PicArr:{0:"images/Zombies/FootballZombie/FootballZombie.gif",1:"images/Zombies/FootballZombie/FootballZombieAttack.gif",7:"images/Zombies/FootballZombie/FootballZombieOrnLost.gif",8:"images/Zombies/FootballZombie/FootballZombieOrnLostAttack.gif"}}),oPoleVaultingZombie=InheritO(OrnNoneZombies,{EName:"oPoleVaultingZombie",CName:"撑杆僵尸",HP:500,width:348,height:218,OSpeed:3.2,Speed:3.2,beAttackedPointL:215,beAttackedPointR:260,GetDY:5,Lvl:2,PicArr:["images/Zombies/PoleVaultingZombie/PoleVaultingZombie.gif","images/Zombies/PoleVaultingZombie/PoleVaultingZombieAttack.gif","images/Zombies/PoleVaultingZombie/PoleVaultingZombieLostHead.gif","images/Zombies/PoleVaultingZombie/PoleVaultingZombieLostHeadAttack.gif","images/Zombies/PoleVaultingZombie/PoleVaultingZombieHead.gif","images/Zombies/PoleVaultingZombie/PoleVaultingZombieDie.gif#","images/Zombies/PoleVaultingZombie/BoomDie.gif#","images/Zombies/PoleVaultingZombie/PoleVaultingZombieWalk.gif","images/Zombies/PoleVaultingZombie/PoleVaultingZombieLostHeadWalk.gif","images/Zombies/PoleVaultingZombie/PoleVaultingZombieJump.gif","images/Zombies/PoleVaultingZombie/PoleVaultingZombieJump2.gif"],Produce:'撑杆僵尸运用标杆高高地跃过障碍物。<p>韧性：<font color="#FF0000">中</font><Br>速度：<font color="#FF0000">快,而后慢(跳跃后)</font><BR>特点：<font color="#FF0000">跃过他所碰到的第一筑植物</font></p>一些僵尸渴望走得更远、得到更多，这也促使他们由普通成为非凡。那就是撑杆僵尸。',getShadow:function(a){return"left:"+(a.beAttackedPointL-20)+"px;top:"+(a.height-35)+"px"},AddShadow:function(a,b){SetStyle(a.firstChild,{left:b.beAttackedPointL-20+"px",top:b.height-35+"px"})},GoingDieHead:function(b,a,e){var c=$(b).appendChild(NewImg(0,"images/Zombies/PoleVaultingZombie/PoleVaultingZombieHead.gif#"+Math.random(),"position:absolute;left:0;top:-20px"));oSym.addTask(200,ClearChild,[c])},JudgeAttack:function(){var h=this,b=h.ZX,e=h.R+"_",c=GetC(b),k=oGd.$,g,a,f=b-74;for(g=c-2;g<=c;g++){if(g>9||g<1){continue}for(a=2;a>-1;(p=k[e+g+"_"+a--])&&p.canEat&&p.AttackedRX>=f&&p.AttackedLX<b&&(a=-1,h.JudgeAttack=CZombies.prototype.JudgeAttack,h.NormalAttack(h.id,p.id))){}}},getRaven:function(a){!this.isAttacking&&this.NormalAttack(this.id,a);return 0},NormalAttack:function(e,b){var h=$Z[e],g=$P[b].AttackedLX,a=$(e),c=a.firstChild,f=a.childNodes[1];f.src="images/Zombies/PoleVaultingZombie/PoleVaultingZombieJump.gif#"+Math.random();SetNone(c);h.isAttacking=1;h.Altitude=2;oSym.addTask(100,function(m,k,j,l,s){var r=$Z[m],n,q;r&&((n=$P[k])&&n.Stature>0?(r.AttackedRX=(r.X=(r.AttackedLX=r.ZX=q=n.AttackedRX)-r.beAttackedPointL)+r.beAttackedPointR,SetStyle(j,{left:r.X+"px"}),s.src="images/Zombies/PoleVaultingZombie/PoleVaultingZombieWalk.gif",SetBlock(l),r.isAttacking=0,r.Altitude=1,r.OSpeed=r.Speed=1.6,r.NormalGif=7,r.LostHeadGif=8,r.NormalAttack=CZombies.prototype.NormalAttack,r.getRaven=CZombies.prototype.getRaven):(r.ZX=r.AttackedLX=(r.X=(r.AttackedRX=g)-r.beAttackedPointR)+r.beAttackedPointL,SetStyle(j,{left:r.X+"px"}),s.src="images/Zombies/PoleVaultingZombie/PoleVaultingZombieJump2.gif#"+Math.random(),SetBlock(l),oSym.addTask(80,function(t,v){var u=$Z[t];u&&(v.src="images/Zombies/PoleVaultingZombie/PoleVaultingZombieWalk.gif",u.isAttacking=0,u.Altitude=1,u.OSpeed=u.Speed=1.6,u.NormalGif=7,u.LostHeadGif=8,u.NormalAttack=CZombies.prototype.NormalAttack,u.getRaven=CZombies.prototype.getRaven)},[m,s])))},[e,b,a,c,f])}});